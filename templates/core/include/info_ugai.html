{% extends 'core/commons/base.html' %}
{% load static %}

{% block css %}
  <link rel="stylesheet" href="{% static 'global/css/bg_efect_sheet.css' %}">
  <link rel="stylesheet" href="{% static 'global/css/info_pesquisa.css' %}">
{% endblock css %}

{% block content %}

<div class="container-fluid container_sheet p-3">

  <div class="alert alert-warning d-flex align-items-center gap-3 shadow-sm mb-4 relatorio-card" role="alert">
    <span class="fs-4">
      <svg xmlns="http://www.w3.org/2000/svg" width="28" height="28" fill="currentColor" class="bi bi-exclamation-triangle flex-shrink-0 me-2" viewBox="0 0 16 16" aria-label="Atenção:">
        <path d="M7.938 2.016A.13.13 0 0 1 8.002 2a.13.13 0 0 1 .063.016.15.15 0 0 1 .054.057l6.857 11.667c.036.06.035.124.002.183a.2.2 0 0 1-.054.06.1.1 0 0 1-.066.017H1.146a.1.1 0 0 1-.066-.017.2.2 0 0 1-.054-.06.18.18 0 0 1 .002-.183L7.884 2.073a.15.15 0 0 1 .054-.057m1.044-.45a1.13 1.13 0 0 0-1.96 0L.165 13.233c-.457.778.091 1.767.98 1.767h13.713c.889 0 1.438-.99.98-1.767z"/>
        <path d="M7.002 12a1 1 0 1 1 2 0 1 1 0 0 1-2 0M7.1 5.995a.905.905 0 1 1 1.8 0l-.35 3.507a.552.552 0 0 1-1.1 0z"/>
      </svg>
    </span>
    <div>
      <div class="fw-bold mb-1">ATENÇÃO</div>
      <div>Vagas solicitadas no pedido: <span class="fw-semibold">{{ obj.quantidade_pessoas }}</span></div>
      <div>Vagas disponíveis na ugai (<span class="fw-semibold">{{current_ugai.nome}}</span>): <span class="fw-semibold">{{vagas}}</span></div>
    </div>
  </div>

  <div class="relatorio-card bg-white p-2 rounded">
    <div>
      <h5>Solicitação de Ugai</h5>
    </div>

    <button type="button" onclick="aprovarUgai()" class="btn btn-secondary mb-2">
      Aprovar</button>

      <div class="row mb-4">
        <div class="col-md-4">
          <div class="info-card info-card-gray">
            <label>Ugai solicitada</label>
            <p>{{ obj.ugai }}</p>
          </div>
        </div>
          <div class="col-md-4">
            <div class="info-card info-card-green">
              <label>Instituição pertencente</label>
              <p>{{ obj.instituicao }}</p>
            </div>
          </div>
        <div class="col-md-4">
          <div class="info-card info-card-blue">
            <label>Setor pertencente</label>
            <p>{{ obj.setor }}</p>
          </div>
        </div>
      </div>

      <div class="row mb-4">
        <div class="col-md-4">
          <div class="info-card info-card-gray">
            <label>Cargo</label>
            <p>{{ obj.cargo }}</p>
          </div>
        </div>
          <div class="col-md-4">
            <div class="info-card info-card-gray">
              <label>Atvidades a serem desenvolvidas</label>
              <p>{{ obj.ativ_desenv }}</p>
            </div>
          </div>
        <div class="col-md-4">
          <div class="info-card info-card-gray">
            <label>Público alvo</label>
            <p>{{ obj.publico_alvo }}</p>
          </div>
        </div>
      </div>

      <div class="status-card mt-3">
        <div class="row align-items-center">
          <div class="col-12 col-md-4 mb-2 mb-md-0">
            <strong>Status da Solicitação:</strong>
          </div>
             <div class="status-card mt-3">
              <div class="row align-items-center">
                <div class="col-12 col-md-4 mb-2 mb-md-0">
                  <strong>Status da Solicitação:</strong>
                </div>
                <div class="col-12 col-md-8 bg-light">
                  {% if obj.status == 'APROVADO' %}
                    <span class="badge badge-ativo d-flex align-items-center">
                      <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-rocket-takeoff me-2" viewBox="0 0 16 16">
                        <path d="M9.752 6.193c.599.6 1.73.437 2.528-.362s.96-1.932.362-2.531c-.599-.6-1.73-.438-2.528.361-.798.8-.96 1.933-.362 2.532"/>
                        <path d="M15.811 3.312c-.363 1.534-1.334 3.626-3.64 6.218l-.24 2.408a2.56 2.56 0 0 1-.732 1.526L8.817 15.85a.51.51 0 0 1-.867-.434l.27-1.899c.04-.28-.013-.593-.131-.956a9 9 0 0 0-.249-.657l-.082-.202c-.815-.197-1.578-.662-2.191-1.277-.614-.615-1.079-1.379-1.275-2.195l-.203-.083a10 10 0 0 0-.655-.248c-.363-.119-.675-.172-.955-.132l-1.896.27A.51.51 0 0 1 .15 7.17l2.382-2.386c.41-.41.947-.67 1.524-.734h.006l2.4-.238C9.005 1.55 11.087.582 12.623.208c.89-.217 1.59-.232 2.08-.188.244.023.435.06.57.093q.1.026.16.045c.184.06.279.13.351.295l.029.073a3.5 3.5 0 0 1 .157.721c.055.485.051 1.178-.159 2.065m-4.828 7.475.04-.04-.107 1.081a1.54 1.54 0 0 1-.44.913l-1.298 1.3.054-.38c.072-.506-.034-.993-.172-1.418a9 9 0 0 0-.164-.45c.738-.065 1.462-.38 2.087-1.006M5.205 5c-.625.626-.94 1.351-1.004 2.09a9 9 0 0 0-.45-.164c-.424-.138-.91-.244-1.416-.172l-.38.054 1.3-1.3c.245-.246.566-.401.91-.44l1.08-.107zm9.406-3.961c-.38-.034-.967-.027-1.746.163-1.558.38-3.917 1.496-6.937 4.521-.62.62-.799 1.34-.687 2.051.107.676.483 1.362 1.048 1.928.564.565 1.25.941 1.924 1.049.71.112 1.429-.067 2.048-.688 3.079-3.083 4.192-5.444 4.556-6.987.183-.771.18-1.345.138-1.713a3 3 0 0 0-.045-.283 3 3 0 0 0-.3-.041Z"/>
                        <path d="M7.009 12.139a7.6 7.6 0 0 1-1.804-1.352A7.6 7.6 0 0 1 3.794 8.86c-1.102.992-1.965 5.054-1.839 5.18.125.126 3.936-.896 5.054-1.902Z"/>
                      </svg>
                      EM-ANDAMENTO
                    </span>
                  {% elif obj.status == 'PENDENTE' %}
                    <span class="badge badge-pendente d-flex align-items-center">
                      <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-clock-history me-2" viewBox="0 0 16 16">
                        <path d="M8.515 1.019A7 7 0 0 0 8 1V0a8 8 0 0 1 .589.022zm2.004.45a7 7 0 0 0-.985-.299l.219-.976q.576.129 1.126.342zm1.37.71a7 7 0 0 0-.439-.27l.493-.87a8 8 0 0 1 .979.654l-.615.789a7 7 0 0 0-.418-.302zm1.834 1.79a7 7 0 0 0-.653-.796l.724-.69q.406.429.747.91zm.744 1.352a7 7 0 0 0-.214-.468l.893-.45a8 8 0 0 1 .45 1.088l-.95.313a7 7 0 0 0-.179-.483m.53 2.507a7 7 0 0 0-.1-1.025l.985-.17q.1.58.116 1.17zm-.131 1.538q.05-.254.081-.51l.993.123a8 8 0 0 1-.23 1.155l-.964-.267q.069-.247.12-.501m-.952 2.379q.276-.436.486-.908l.914.405q-.24.54-.555 1.038zm-.964 1.205q.183-.183.35-.378l.758.653a8 8 0 0 1-.401.432z"/>
                        <path d="M8 1a7 7 0 1 0 4.95 11.95l.707.707A8.001 8.001 0 1 1 8 0z"/>
                        <path d="M7.5 3a.5.5 0 0 1 .5.5v5.21l3.248 1.856a.5.5 0 0 1-.496.868l-3.5-2A.5.5 0 0 1 7 9V3.5a.5.5 0 0 1 .5-.5"/>
                      </svg>
                      PENDENTE
                    </span>
                  {% elif obj.status == 'INVALIDADO' %}
                    <span class="badge badge-inativo d-flex align-items-center">
                      <svg xmlns="http://www.w3.org/2000/svg" width="17" height="17" fill="currentColor" class="bi bi-clipboard-x me-2" viewBox="0 0 16 16">
                        <path fill-rule="evenodd" d="M6.146 7.146a.5.5 0 0 1 .708 0L8 8.293l1.146-1.147a.5.5 0 1 1 .708.708L8.707 9l1.147 1.146a.5.5 0 0 1-.708.708L8 9.707l-1.146 1.147a.5.5 0 0 1-.708-.708L7.293 9 6.146 7.854a.5.5 0 0 1 0-.708"/>
                        <path d="M4 1.5H3a2 2 0 0 0-2 2V14a2 2 0 0 0 2 2h10a2 2 0 0 0 2-2V3.5a2 2 0 0 0-2-2h-1v1h1a1 1 0 0 1 1 1V14a1 1 0 0 1-1 1H3a1 1 0 0 1-1-1V3.5a1 1 0 0 1 1-1h1z"/>
                        <path d="M9.5 1a.5.5 0 0 1 .5.5v1a.5.5 0 0 1-.5.5h-3a.5.5 0 0 1-.5-.5v-1a.5.5 0 0 1 .5-.5zm-3-1A1.5 1.5 0 0 0 5 1.5v1A1.5 1.5 0 0 0 6.5 4h3A1.5 1.5 0 0 0 11 2.5v-1A1.5 1.5 0 0 0 9.5 0z"/>
                      </svg>
                      INVALIDADO
                    </span>
                  {% elif obj.status == 'ENCERRADO' %}
                    <span class="badge badge-finalizado d-flex align-items-center">
                      <svg xmlns="http://www.w3.org/2000/svg" width="17" height="17" fill="currentColor" class="bi bi-bookmark-check me-2" viewBox="0 0 16 16">
                        <path fill-rule="evenodd" d="M10.854 5.146a.5.5 0 0 1 0 .708l-3 3a.5.5 0 0 1-.708 0l-1.5-1.5a.5.5 0 1 1 .708-.708L7.5 7.793l2.646-2.647a.5.5 0 0 1 .708 0"/>
                        <path d="M2 2a2 2 0 0 1 2-2h8a2 2 0 0 1 2 2v13.5a.5.5 0 0 1-.777.416L8 13.101l-5.223 2.815A.5.5 0 0 1 2 15.5zm2-1a1 1 0 0 0-1 1v12.566l4.723-2.482a.5.5 0 0 1 .554 0L13 14.566V2a1 1 0 0 0-1-1z"/>
                      </svg>
                      ENCERRADO
                    </span>
                  {% endif %}
                </div>
              </div>
            </div>
        </div>
      </div>
  </div>
</div>

{% endblock content %}

{% block js %}
  <script src="{% static 'manager/js/aprovar_ugai.js' %}"></script>
{% endblock js %}